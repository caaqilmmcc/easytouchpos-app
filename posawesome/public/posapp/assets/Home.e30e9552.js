var y=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var x=(a,s)=>{var e={};for(var t in a)V.call(a,t)&&s.indexOf(t)<0&&(e[t]=a[t]);if(a!=null&&y)for(var t of y(a))s.indexOf(t)<0&&N.call(a,t)&&(e[t]=a[t]);return e};var h=(a,s,e)=>new Promise((t,o)=>{var n=l=>{try{c(e.next(l))}catch(_){o(_)}},r=l=>{try{c(e.throw(l))}catch(_){o(_)}},c=l=>l.done?t(l.value):Promise.resolve(l.value).then(n,r);c((e=e.apply(a,s)).next())});import{c as k,l as P,_ as E,ak as I,al as O}from"./index.4f245b34.js";import{l as m,o as u,f as p,p as w,N as $,u as i,a as A,m as C,w as v,g as f,O as D,e as T,P as d,t as g,v as B,S,T as j,ak as b,al as z,n as M}from"./vendor.10b8f296.js";import{C as R,i as U,f as F,j as L,g as q,h as G}from"./pos-sheet.df0589cb.js";import"./index.3c983457.js";const H=m({__name:"Badge",props:{variant:{},class:{}},setup(a){const s=a;return(e,t)=>(u(),p("div",{class:$(i(k)(i(J)({variant:e.variant}),s.class))},[w(e.$slots,"default")],2))}}),J=P("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Q=m({__name:"Checkbox",props:{defaultChecked:{type:Boolean},checked:{type:[Boolean,String]},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(a,{emit:s}){const e=a,t=s,o=A(()=>{const l=e,{class:r}=l;return x(l,["class"])}),n=E(o,t);return(r,c)=>(u(),C(i(O),D(i(n),{class:i(k)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e.class)}),{default:v(()=>[f(i(I),{class:"flex h-full w-full items-center justify-center text-current"},{default:v(()=>[w(r.$slots,"default",{},()=>[f(i(R),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),K={class:"bg-white rounded-xl flex justify-center items-center w-full h-28"},W=["src","alt"],X={class:"p-2"},Y={class:"flex justify-between"},Z={class:"flex flex-col"},ee={class:"text-gray-400"},te={class:"flex flex-col items-end"},se={class:"font-semibold"},oe=m({__name:"product",props:{product:{}},setup(a){const{cart:s,addToCart:e,removeAllById:t}=U(r=>r),{product:o}=a,n=r=>s.value.some(c=>c.item_code===r.item_code);return console.log(o,"\u{1F680}"),(r,c)=>{const l=T("Label");return u(),p("div",null,[f(i(Q),{id:`checkbox-${r.product.item_code}`,onClick:c[0]||(c[0]=_=>n(r.product)?i(t)(r.product):i(e)(r.product)),checked:n(r.product),class:"peer sr-only"},null,8,["id","checked"]),f(l,{for:`checkbox-${r.product.item_code}`,class:$(` flex cursor-pointer flex-col  justify-between rounded-xl border-2 border-muted bg-popover hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary ${n(r.product)&&"border-primary"}`)},{default:v(()=>[d("div",K,[d("img",{src:r.product.image,alt:r.product.item_name,class:"h-24"},null,8,W)]),d("div",X,[d("div",Y,[d("div",Z,[d("b",null,g(r.product.item_name),1),d("small",ee,g(r.product.item_group),1)]),d("div",te,[d("p",se,"Qty: "+g(r.product.is_stock_item),1),d("b",null,"$"+g(r.product.rate),1)])])])]),_:1},8,["for","class"])])}}}),re=a=>h(void 0,null,function*(){return(yield F.get("/api/method/posawesome.posawesome.api.posapp.check_opening_shift",{params:{user:a}})).data}),ae={class:"grid md:grid-cols-3 lg:grid-cols-4 overflow-scroll xl:grid-cols-6 gap-2"},ne=m({__name:"product-list",setup(a){L(t=>t);const s=B([]);return(()=>h(this,null,function*(){const t=yield re(`${q()}`),o=yield F.post("/api/method/posawesome.posawesome.api.posapp.get_items",{pos_profile:JSON.stringify(t.message.pos_profile),price_list:"",item_group:"",search_value:""});s.value=o.data.message}))(),console.log(s,"\u{1F4AF}"),(t,o)=>(u(),p("div",ae,[(u(!0),p(S,null,j(s.value,(n,r)=>(u(),p("div",{key:r},[f(oe,{product:n},null,8,["product"])]))),128))]))}});class ce{FindMany({doctype:s,fields:e=["*"],filters:t={},orderBy:o=""}){return b({doctype:s,fields:e,filters:t,orderBy:o,auto:!0})}FindOne({doctype:s,fields:e=["*"],name:t}){return console.log(s,e,t),z({doctype:s,fields:e,name:t,auto:!0})}Insert({doctype:s,data:e}){b({doctype:s,auto:!0,insert:{onError(o){return o},onSuccess(o){return o}}}).insert.submit(e)}Update({doctype:s,data:e}){b({doctype:s,auto:!0,setValue:{onError(o){return o},onSuccess(o){return o}}}).setValue.submit(e)}Delete({doctype:s,id:e}){b({doctype:s,auto:!0,delete:{onError(o){return o},onSuccess(o){return o}}}).delete.submit(e)}}const ie=new ce,le={class:"relative space-y-3 flex h-full flex-col rounded-xl bg-muted/50 p-4 flex-[2] xl:flex-[3]"},de=d("h1",{class:"text-2xl font-semibold"},"Products",-1),ue={class:"flex flex-wrap gap-2"},pe={class:"py-4"},fe=m({__name:"main-pos",setup(a){const{setSelectedCategory:s,isSelectedCategory:e}=L(n=>n),t=B([]);return(()=>h(this,null,function*(){const n=yield ie.FindMany({doctype:"Item Group",fields:["name","item_group_name"]});t.value=n}))(),(n,r)=>(u(),p("div",le,[de,d("div",ue,[(u(!0),p(S,null,j(t.value.data,(c,l)=>(u(),C(i(H),{variant:i(e)===c.name?"default":"outline",onClick:_=>i(e)===c.name?i(s)():i(s)(c.name),class:"capitalize cursor-pointer",key:l},{default:v(()=>[M(g(c.item_group_name),1)]),_:2},1032,["variant","onClick"]))),128))]),d("div",pe,[f(ne)])]))}}),me={class:"flex items-start gap-4 flex-1 p-4"},_e={class:"sticky hidden lg:block top-[73px] flex-1"},xe=m({__name:"Home",setup(a){return(s,e)=>(u(),p("main",me,[f(fe),d("div",_e,[f(G)])]))}});export{xe as default};
