var y=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var x=(a,r)=>{var e={};for(var s in a)j.call(a,s)&&r.indexOf(s)<0&&(e[s]=a[s]);if(a!=null&&y)for(var s of y(a))r.indexOf(s)<0&&P.call(a,s)&&(e[s]=a[s]);return e};var b=(a,r,e)=>new Promise((s,o)=>{var t=n=>{try{l(e.next(n))}catch(_){o(_)}},d=n=>{try{l(e.throw(n))}catch(_){o(_)}},l=n=>n.done?s(n.value):Promise.resolve(n.value).then(t,d);l((e=e.apply(a,r)).next())});import{c as k,l as E,_ as I,ak as N,al as A}from"./index.4f245b34.js";import{l as m,o as i,f as p,p as C,N as $,u as c,a as w,m as B,w as g,g as f,O as D,e as T,P as u,t as h,v as S,S as L,T as F,ak as v,al as z,n as M}from"./vendor.10b8f296.js";import{C as O,h as R,i as V,f as q,g as G}from"./pos-sheet.bf84a44c.js";const H=m({__name:"Badge",props:{variant:{},class:{}},setup(a){const r=a;return(e,s)=>(i(),p("div",{class:$(c(k)(c(U)({variant:e.variant}),r.class))},[C(e.$slots,"default")],2))}}),U=E("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),J=m({__name:"Checkbox",props:{defaultChecked:{type:Boolean},checked:{type:[Boolean,String]},disabled:{type:Boolean},required:{type:Boolean},name:{},value:{},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(a,{emit:r}){const e=a,s=r,o=w(()=>{const n=e,{class:d}=n;return x(n,["class"])}),t=I(o,s);return(d,l)=>(i(),B(c(A),D(c(t),{class:c(k)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e.class)}),{default:g(()=>[f(c(N),{class:"flex h-full w-full items-center justify-center text-current"},{default:g(()=>[C(d.$slots,"default",{},()=>[f(c(O),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),K={class:"bg-white rounded-xl flex justify-center items-center w-full h-28"},Q=["src","alt"],W={class:"p-1.5 flex flex-col items-center"},X=m({__name:"product",props:{product:{}},setup(a){const{cart:r,addToCart:e,removeAllById:s}=R(t=>t),o=t=>r.value.some(d=>d.id===t.id);return(t,d)=>{const l=T("Label");return i(),p("div",null,[f(c(J),{id:`checkbox-${t.product.id}`,onClick:d[0]||(d[0]=n=>o(t.product)?c(s)(t.product):c(e)(t.product)),checked:o(t.product),class:"peer sr-only"},null,8,["id","checked"]),f(l,{for:`checkbox-${t.product.id}`,class:$(` flex cursor-pointer flex-col items-center justify-between rounded-xl border-2 border-muted bg-popover hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary ${o(t.product)&&"border-primary"}`)},{default:g(()=>[u("div",K,[u("img",{src:t.product.image,alt:t.product.title,class:"h-16 mb-2"},null,8,Q)]),u("div",W,[u("b",null," $"+h(t.product.price),1),u("small",null,h(t.product.category),1)])]),_:1},8,["for","class"])])}}}),Y={class:"grid md:grid-cols-3 lg:grid-cols-4 overflow-scroll xl:grid-cols-6 gap-2"},Z=m({__name:"product-list",setup(a){const{isSelectedCategory:r}=V(t=>t),e=S([]);(()=>b(this,null,function*(){const t=yield q.get("https://fakestoreapi.com/products");e.value=t.data}))();const o=w(()=>r.value==="ALL"?e.value:e.value.filter(t=>t.category===r.value));return(t,d)=>(i(),p("div",Y,[(i(!0),p(L,null,F(o.value,(l,n)=>(i(),p("div",{key:n},[f(X,{product:l},null,8,["product"])]))),128))]))}});class ee{FindMany({doctype:r,fields:e=["*"],filters:s={},orderBy:o=""}){return v({doctype:r,fields:e,filters:s,orderBy:o,auto:!0})}FindOne({doctype:r,fields:e=["*"],name:s}){return console.log(r,e,s),z({doctype:r,fields:e,name:s,auto:!0})}Insert({doctype:r,data:e}){v({doctype:r,auto:!0,insert:{onError(o){return o},onSuccess(o){return o}}}).insert.submit(e)}Update({doctype:r,data:e}){v({doctype:r,auto:!0,setValue:{onError(o){return o},onSuccess(o){return o}}}).setValue.submit(e)}Delete({doctype:r,id:e}){v({doctype:r,auto:!0,delete:{onError(o){return o},onSuccess(o){return o}}}).delete.submit(e)}}const te=new ee,re={class:"relative space-y-3 flex h-full flex-col rounded-xl bg-muted/50 p-4 flex-[2] xl:flex-[3]"},se=u("h1",{class:"text-2xl font-semibold"},"Products",-1),oe={class:"flex flex-wrap gap-2"},ae={class:"py-4"},ne=m({__name:"main-pos",setup(a){const{setSelectedCategory:r,isSelectedCategory:e}=V(t=>t),s=S([]);return(()=>b(this,null,function*(){const t=yield te.FindMany({doctype:"Item Group",fields:["name","item_group_name"]});console.log("\u{1F697}",t),s.value=t}))(),(t,d)=>(i(),p("div",re,[se,u("div",oe,[(i(!0),p(L,null,F(s.value.data,(l,n)=>(i(),B(c(H),{variant:c(e)===l.name?"default":"outline",onClick:_=>c(e)===l.name?c(r)():c(r)(l.name),class:"capitalize cursor-pointer",key:n},{default:g(()=>[M(h(l.item_group_name),1)]),_:2},1032,["variant","onClick"]))),128))]),u("div",ae,[f(Z)])]))}}),ce={class:"flex items-start gap-4 flex-1 p-4"},le={class:"sticky hidden lg:block top-[73px] flex-1"},fe=m({__name:"Home",setup(a){return(r,e)=>(i(),p("main",ce,[f(ne),u("div",le,[f(G)])]))}});export{fe as default};
